{{ define "main" }}
  {{ $partial := print "home/" .Site.Params.homepage.layout ".html" }}
  {{ if templates.Exists ( printf "partials/%s" $partial ) }}
    {{ partial $partial . }}
  {{ else }}
    {{ partial "home/profile.html" . }}
  {{ end }}
  
  {{/* 最新博客文章 */}}
  {{ $postsSection := .Site.GetPage "/posts" }}
  {{ if $postsSection }}
    {{ $latestPosts := $postsSection.RegularPages | first 6 }}
    {{ if $latestPosts }}
    <section class="mt-20">
      <header class="mb-8">
        <h2 class="mt-5 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
          {{ if eq .Site.Language.Lang "zh-cn" }}最新文章{{ else }}Latest Posts{{ end }}
        </h2>
        <p class="mt-1 mb-2 text-base text-neutral-500 dark:text-neutral-400">
          {{ if eq .Site.Language.Lang "zh-cn" }}最近发布的博客文章{{ else }}Recently published blog posts{{ end }}
        </p>
      </header>
      
      <section class="w-full grid gap-4 sm:grid-cols-2 md:grid-cols-3">
        {{ range $latestPosts }}
          {{ partial "article-link/card.html" . }}
        {{ end }}
      </section>
      
      <div class="text-center mt-8">
        <a href="{{ $postsSection.RelPermalink }}" class="inline-block px-6 py-3 text-base font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors">
          {{ if eq .Site.Language.Lang "zh-cn" }}查看所有文章 →{{ else }}View All Posts →{{ end }}
        </a>
      </div>
    </section>
    {{ end }}
  {{ end }}
{{ end }}
